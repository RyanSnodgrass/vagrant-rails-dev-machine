#!/usr/bin/env bash

echo " Now Triggering bootstrap.sh "
source /usr/local/rvm/scripts/rvm
rvm use 2.0.0 --create
gem install bundler

makeAppsDirectory(){
  echo "===================================================="
  echo "=============Instantiating Apps Directory==========="
  echo "===================================================="
  mkdir /vagrant/apps
}


cloneMuninn(){
  echo "========================================================================="
  echo "====================================Cloning Muninn======================="
  echo "========================================================================="
  echo '

  __________-------____                 ____-------__________
  \------____-------___--__---------__--___-------____------/
   \//////// / / / / / \   .-------.   / \ \ \ \ \ \\\\\\\\/
     \////-/-/------/_/_|  //     \\  |_\_\------\-\-\\\\/
       --//// / /  /  //|  | o___o |  | ||\\  \  \ \ \\\\--
            ---__/  // /|  \ _____ /  |\ \\  \__---
                 -//  / /\_ \     / _/\ \  \\-
                   \_/_/ /\--\   /--/\ \_\_/
                       ----\  \ /  /----
                            |  -  |
                          / /_ | _\ \
                         / // / \ \\ \
                        ////_|| ||_\\\\
  '

  git clone https://github.com/ndoit/muninn /vagrant/apps/muninn
}

cloneHuginn(){
  echo "======================================================================="
  echo "=======================================Cloning Huginn=================="
  echo "======================================================================="
  echo '

  __________-------____                 ____-------__________
  \------____-------___--__---------__--___-------____------/
   \//////// / / / / / \   .-------.   / \ \ \ \ \ \\\\\\\\/
     \////-/-/------/_/_|  //     \\  |_\_\------\-\-\\\\/
       --//// / /  /  //|  | o___o |  | ||\\  \  \ \ \\\\--
            ---__/  // /|  \ _____ /  |\ \\  \__---
                 -//  / /\_ \     / _/\ \  \\-
                   \_/_/ /\--\   /--/\ \_\_/
                       ----\  \ /  /----
                            |  -  |
                          / /_ | _\ \
                         / // / \ \\ \
                        ////_|| ||_\\\\
  '

  git clone https://github.com/ndoit/huginn /vagrant/apps/huginn
}

bundleInstallMuninn(){
  cd /vagrant/apps/muninn/
  echo "===================================================="
  echo "===========Starting Bundle Install Muninn==========="
  echo "===================================================="
  bundle install
}


bundleInstallHuginn(){
  cd /vagrant/apps/huginn/
  echo "===================================================="
  echo "===========Starting Bundle Install Huginn==========="
  echo "===================================================="
  bundle install
}




completionMessage(){
  echo "===================================================="
  echo "===========Huginn & Muninn have completed==========="
  echo "================thought & mind are one=============="
  echo "===================================================="
  echo "                       _     _                      "
  echo "                      /.)   (.\                     "
  echo "                     /)\|   |/)\                    "
  echo "                    /|)/     \(|\                   "
  echo "                   /'^^'     '^^'\                  "
}

makeAppsDirectory
cloneMuninn
cloneHuginn
bundleInstallMuninn
bundleInstallHuginn
completionMessage
